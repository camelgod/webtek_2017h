{% include('nav.html') %}
<div class="page_container">
	<div class="page_header"></div>
	<div class="full">
		<div class="page_box big">
			<div class="box_header">
				<p>Registrering</p>
			</div>
			<div class="box_content top-margin">
                <ul>
					<li>Her kan du registrere informasjon om deg som kunde slik at vi kan lagre det lokalt i butikken.</li>
				</ul>
                <br>
                <form name="registreringsskjema" action="" method="post">
                    <table class="product_table registreringsskjema">
                        <tr>
                            <th colspan="3">Kundeinformasjon - alle felter m√• fylles ut</th>
                        </tr>
                        <tr>
                            <th class="th-left-border"><label for="navn">Fullt navn</label></th>
                            <td><label for="fornavn">Fornavn</label><p></p><input type="text" name="fornavn" required> </td>
                            <td><label for="etternavn">Etternavn</label><input type="text" name="etternavn" required> </td>
                        </tr>
                        <tr>
                            <th class="th-left-border"><label for="kontakt">Kontakt</label></th>
                            <td><label for="email"><p class="nomargin_nopadding" id="email_register">Email</p></label><input type="text" name="email" onblur="validate_email_register()" required></td>
                            <td><label for="tlf">Tlf</label><input type="text" name="tlf" required> </td>
                        </tr>
                        <tr>
                            <th class="th-left-border"><label for="navn">Adresse</label></th>
                            <td><label for="adresse">Adresse</label><input type="text" name="adresse" required> </td>
                            <td><label for="postnummer">Postnummer</label><input type="text" name="postnummer" required> </td>
                        </tr>
                        <th class="th-left-border" colspan="3">
                            <button type="submit" class="flat_button">Registrer</button>
                        </th>
                    </table>
                </form>
            </div>
		</div>
	</div>
</div>
<script>
    /* Checks validity of email parameter */
    function validate_email(email){
        var ret = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return ret.test(email);
    }

    /* Checks validity of email input and displays error message if not valid*/
    function validate_email_register(){
        var form = document.forms['registreringsskjema'];
        var email_address = form['email'].value;
        var feilmelding = document.getElementById('email_register');
        var temp_tekst = feilmelding.innerHTML;

        if(validate_email(email_address) == false){
            feilmelding.innerHTML += '<span style=\"color:red; font-size:12px\"> - ugyldig adresse</span>';

            setTimeout(function(){feilmelding.innerHTML = temp_tekst},1500);
        }
    }
</script>
{% include('footer.html') %}